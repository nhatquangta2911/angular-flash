<div class="container">
  <h3>Cart</h3>
  <div class="d-flex justify-content-between">
    <div>
      <div *ngFor="let item of items" class="mt-3 mb-3 w-100 d-flex justify-content-between align-items-center">
        <span class="mr-4">{{ item.title }}</span>
        <span class="text-primary">{{ item.price | currency }}</span>
      </div>
      <div class="mt-3 mb-3 w-100 d-flex justify-content-end align-items-center">
        <span class="mr-4 text-secondary font-italic">Total</span>
        <span class="text-danger font-weight-bold">{{ total | currency }}</span>
      </div>
    </div>
    <div>
      <i (click)="triggerShippingFeeModal(modalShippingContent)" class="btn btn-outline-primary btn-sm">Shipping Fee</i>
    </div>
  </div>
  <hr />
  <i class="btn btn-outline-primary btn-sm" (click)="onTriggerOpenDelivery()">
    Delivery
  </i>
  <div class="mt-5" [@openClosed]="openDelivery ? 'open' : 'closed'">
    <h3>Delivery</h3>
    <form [formGroup]="checkoutForm" (ngSubmit)="onSubmit(modalPurchaseContent, checkoutForm.value)">
      <div class="w-50 mt-4">
        <label for="name">
          Name
        </label>
        <input class="form-control" id="name" type="text" formControlName="name" />
      </div>
      <div class="w-50 mt-2">
        <label for="address">
          Address
        </label>
        <input class="form-control" id="addsetTimeout(() => {
          this.isProcessing = false;
        }, 500);ress" type="text" formControlName="address" />
      </div>
      <div class="w-50 mt-2">
        <label for="phone number">
          Phone Number
        </label>
        <input class="form-control" id="phoneNumber" type="text" formControlName="phoneNumber" />
      </div>
      <button class="btn btn-outline-primary mt-3" type="submit">
        Purchase
      </button>
    </form>
  </div>
  <ng-template #modalShippingContent>
    <app-modal title="Shipping Fee">
      <app-shipping> </app-shipping>
    </app-modal>
  </ng-template>
  <ng-template #modalPurchaseContent>
    <app-modal title="Done collecting your information">
      <div class="d-flex flex-column">
        <div class="d-flex mb-2">
          <span>Your name: </span>
          <span class="text-primary text-truncate ml-1">{{ deliveryInfo.name }}
          </span>
        </div>
        <div class="d-flex mb-2">
          <span>Your address: </span>
          <span class="text-primary text-truncate ml-2">{{
            deliveryInfo.address
          }}</span>
        </div>
        <div class="d-flex">
          <span>Your Phone Number: </span>
          <span class="text-primary text-truncate ml-2">{{
            deliveryInfo.phoneNumber
          }}</span>
        </div>
      </div>
    </app-modal>
  </ng-template>
</div>
